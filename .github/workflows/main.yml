name: Build and Test Thinkpad Assistant

on: 
  - pull_request

jobs:
  CI:

    runs-on: macos-10.15

    steps:
    - uses: actions/checkout@v2

    - name: Prepare Env
      run: |
        pod install

    - name: Debug Build
      run: xcodebuild -workspace ThinkpadAssistant.xcworkspace -scheme ThinkpadAssistant -destination "platform=macOS" -archivePath target.xcarchive -configuration Debug CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO | xcpretty && exit ${PIPESTATUS[0]}
